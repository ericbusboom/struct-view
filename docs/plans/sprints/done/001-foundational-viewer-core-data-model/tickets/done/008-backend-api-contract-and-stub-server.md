---
id: 008
title: Backend API contract and stub server
status: done
use-cases: []
depends-on:
- '001'
- '002'
---

# Backend API contract and stub server

## Description

Define the REST API contract between frontend and backend and implement a stub FastAPI server that responds to requests with placeholder data. This establishes the interface boundary so frontend and backend can be developed in parallel in future sprints. The actual analysis logic comes in Sprint 005.

## Implementation Notes

- FastAPI app with CORS configured for local development
- Endpoints to define (stubs for now):
  - `GET /health` — returns `{"status": "ok"}`
  - `POST /analyze` — accepts model JSON body, returns a stub results JSON
  - `POST /validate` — accepts model JSON, returns validation errors (uses shared schema logic)
- Request/response schemas defined as Pydantic models mirroring the TypeScript types
- Document the API contract (OpenAPI/Swagger auto-generated by FastAPI)
- Ensure the Python model types stay in sync with the TypeScript schema (manual for now, automated later)

## Acceptance Criteria

- [ ] FastAPI server starts and serves health check
- [ ] `POST /analyze` accepts model JSON and returns a stub response
- [ ] `POST /validate` returns validation results
- [ ] Pydantic models match the TypeScript data model types
- [ ] Swagger UI accessible at `/docs`
- [ ] CORS allows requests from the frontend dev server

## Testing

- **Existing tests to run**: Frontend build, schema validation
- **New tests to write**: API endpoint tests — health returns 200, analyze accepts valid JSON, validate catches errors
- **Verification command**: `cd backend && python -m pytest`
